<!DOCTYPE html>
<html>

<head>
  <title>Test IT</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <!--Favicon-->
  <link rel="icon" href="img/favicon-16x16.png">

  <!--Styles-->
  <link rel="stylesheet" href="css/bootstrap.min.css">
  <link rel="stylesheet" href="css/font-awesome.min.css">
  <!--Custom style link-->
  <link rel="stylesheet" href="css/custom.css">
  <link rel="stylesheet" href="css/jquery.toast.min.css">
  <style>
    .bucketcheck label {
      padding-left: 5px;
      margin-bottom: 15px;
    }
  </style>

  <!--Scripts-->
  <script src="js/jquery.min.js"></script>
  <script src="js/bootstrap.min.js"></script>
  <script src="js/moment.js"></script>
  <script src="js/Libraries/jquery.dataTables.js"></script>
  <script src="js/Libraries/dataTables.fixedHeader.js"></script>
  <script src="js/Libraries/dataTables.tableTools.js"></script>
  <script src="js/Libraries/jquery.dataTables.bootstrap.js"></script>
  <script src="js/Libraries/jquery.nanoscroller.min.js"></script>
  <script src="js/Libraries/jquery.toast.min.js"></script>
  <script src="js/custom.js"></script>
  <script src="js/pages/environment.js" type="text/javascript"></script>
  <script src="js/pages/companyEnvURL.js"></script>
  <script src="js/pages/userrole.js"></script>

</head>

<body>
  <!--Header Start-->
  <header class="navbar navbar-expand-lg">
    <!--Logo Start-->
    <a id="logo" class="navbar-brand text-center" href="#">
      <img src="img/4317-converted.png">
    </a>
    <!--Logo End-->
    <!--Navbar Toggle Start-->
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarText"
      aria-controls="navbarText" aria-expanded="false" aria-label="Toggle navigation">
      <span class="fa fa-bars"></span>
    </button>
    <!--Navbar Toggle End-->
    <div class="collapse navbar-collapse" id="navbarText">
      <ul class="navbar-nav mr-auto">
        <li class="nav-item"><a class="nav-link" href="dashboard.html"><img src="img/insert-chart-outlined-24-px.png">
            Monitor App</a></li>
        <li class="nav-item"><a class="nav-link" href="users.html"><img src="img/person-outline-24-px-1.png">
            Subscribers</a></li>
        <li class="nav-item active"><a class="nav-link" href="setup.html"><img src="img/settings-24-px.png">
            AppSettings</a></li>
        <li class="nav-item"><a class="nav-link" href="testmanagement.html"><img src="img/assignment-24-px.png"> Library </a></li>
        <li class="nav-item"><a class="nav-link" href="runtest.html"><img src="img/play-arrow-24-px.png"> Execute Test Plan</a></li>
				<li class="nav-item"><a class="nav-link" href="testbucketenviroment.html"><img src="img/subtitles-24-px.png"> Logical Group</a></li>
        <li class="nav-item"><a class="nav-link" href="reports.html"><img src="img/pie-chart-24-px.png"> Reports</a>
        </li>
        <!-- <li class="nav-item"><a class="nav-link" href="subscription.html">Subscriptions</a></li> -->
      </ul>

      <!--User Menu Start-->
      <div id="userMenu" class="dropdown">
        <!-- <a href="#"><i class="fa fa-user-o"></i> User</a> -->
        <a href="#" class="dropdown-toggle" data-toggle="dropdown"><img   style="width: 25px; height: 25px; border-radius: 50%;"   src="img/account-circle-24-px.png">
          <span>User</span></a>
        <div class="dropdown-menu">
          <a class="dropdown-item" href="profileUser.html">Profile</a>
          <a class="dropdown-item" href="login.html">Logout</a>
        </div>
      </div>
      <!--User Menu End-->
    </div>
  </header>
  <!--Header End-->

  <!--Sidebar Start-->
  <aside class="sidebar pull-left">
    <ul>
      <!-- <li><a href="#"><img src="img/add-24-px.png"></a></li>
        <li><a href="#"><i class="fa fa-plus"></i></a></li> -->
      <li><a href="#"><img src="img/apps-24-px.png"></a></li>
      <li><a href="#"><img src="img/add-24-px.png"></a></li>
    </ul>
  </aside>
  <!--Sidebar End-->

  <!--Main Contebt Start-->
  <div id="main-content" class="container-fluid pull-right">
    <div id="loader"></div>
    <!--Page Title-->
    <!-- <h1 id="page-title">Setup</h1> -->

    <div class="card border_card">
      <div class="card-body tabs">
        <ul id="tabs" class="nav nav-tabs">
          <li id="environmentTab" class="nav-item"><a href="" data-target="#environment" data-toggle="tab"
              class="nav-link small text-uppercase active">Execution Environment</a></li>
          <li id="environmentUrlTab" class="nav-item"><a href="" data-target="#urls" data-toggle="tab"
              class="nav-link small text-uppercase">Environment URL's</a></li>
          <li id="accessRolesTab" class="nav-item"><a href="" data-target="#roles" data-toggle="tab"
              class="nav-link small text-uppercase">Access Role</a></li>
        </ul>
      </div>
    </div>

    <div id="tabsContent" class="tab-content">
      <div id="environment" class="tab-pane fade active show">
        <div class="card">
          <div class="card-body">
            <div class="row">
              <div class="col-md-12 col-sm-12 col-xs-12 mb-2 buttonlink">
                <!--Page subtitle-->
                <!-- <label class="subtitle">Execution Environment</label> -->
                <!--Delete row-->
                <a href=""><button class="btn btn-primary float-right buttonlink" id="deleteRow"><img
                      src="img/delete-24-px.png">DELETE</button></a>
                <a href="#" class="addusetbtn addRowBtn"><button class="btn btn-primary float-right buttonlink"><img
                      src="img/add-24-px-2.png">ADD</button></a>
              </div>
            </div>

            <div class="row addRowData" style="display: none;">
              <div class="col-md-5 rowadjust">
                <label>Execution Environment</label>
                <input type="text" class="form-control border" name="execution_environment" id="execution_environment"
                  placeholder="Enter Execution Environment">
              </div>
              <div class="col-md-6 buttonlink1 btnpadding">
                <button class="btn btn-primary buttonlink1 addEnvBtn"><img src="img/add-24-px-2.png">ADD</button>
                <button class="btn btn-primary buttonlink1 btn-dark cancelRow"><img
                    src="img/close-24-px.png">CANCEL</button>
              </div>
            </div>

            <div class="row selectdiv envTableParent" style="overflow-x: auto;">
              <table id="bucketList" class="envTable table selectdiv1">
                <thead>
                  <tr>
                    <th scope="col" class="bucketcheck">
                      <label class="main mainCB">
                        <input type="checkbox">
                        <span class="geekmark"></span>
                      </label>
                    </th>
                    <th scope="col" class="Username">ENVIRONMENT <i class="fa fa-angle-down" aria-hidden="true"></i>
                    </th>
                    <th scope="col">ADDED DATE</th>
                    <th scope="col">ADDED BY</th>
                  </tr>
                </thead>
                <tbody>

                </tbody>
              </table>
            </div>
          </div>
        </div>
      </div>
      <div id="urls" class="tab-pane fade">
        <div class="card">
          <div class="card-body">
            <div class="row">
              <div class="col-md-12 col-sm-12 col-xs-12 mb-2 buttonlink">
                <!--Page subtitle-->
                <!-- <label class="subtitle">Environment URL's</label> -->
                <!--Delete row-->
                <button class="btn btn-primary float-right buttonlink" id="deleteRow1"><img
                    src="img/delete-24-px.png">DELETE</button>
                <a href="#" class="addusetbtn addRowBtn"><button class="btn btn-primary float-right buttonlink"><img
                      src="img/add-24-px-2.png">ADD</button></a>
              </div>
            </div>

            <div class="row addRowData" style="display: none;">
              <div class="col-md-2 rowadjust">
                <label class="required">Application</label>
                <select class="form-control border" name="application" id="application">
                </select>
              </div>
              <div class="col-md-2 rowadjust">
                <label class="required">Environment</label>
                <select class="form-control border" name="url_environment" id="url_environment">
                </select>
              </div>
              <div class="col-md-4 rowadjust">
                <label class="required">URL</label>
                <input type="text" class="form-control border" name="url" id="url" placeholder="Enter URL">
              </div>
              <div class="col-md-3 buttonlink1 btnpadding">
                <button class="btn btn-primary buttonlink1 addUrlBtn" data-toggle="modal" data-dismiss="modal"
                  ><img src="img/add-24-px-2.png">ADD</button>
                <button class="btn btn-primary buttonlink1 btn-dark cancelRow"><img
                    src="img/close-24-px.png">CANCEL</button>
              </div>
            </div>

            <div class="row selectdiv UrltableParent" style="overflow-x: auto;">
              <table id="bucketList" class="table selectdiv1 Urltable">
                <thead>
                  <tr>
                    <th scope="col" class="bucketcheck">
                      <label class="main mainCB">
                        <input type="checkbox">
                        <span class="geekmark"></span>
                      </label>
                    </th>
                    <th scope="col" class="Username">APPLICATION <i class="fa fa-angle-down" aria-hidden="true"></i>
                    </th>
                    <th scope="col">ENVIRONMENT</th>
                    <th scope="col">URL</th>
                  </tr>
                </thead>
                <tbody>

                </tbody>
              </table>
            </div>
          </div>
        </div>
      </div>
      <div id="roles" class="tab-pane fade">
        <div class="card">
          <div class="card-body">
            <div class="row">
              <div class="col-md-12 col-sm-12 col-xs-12 mb-2 buttonlink">
                <!--Page subtitle-->
                <!-- <label class="subtitle">Access Role</label> -->
                <!--Delete row-->
                <button class="btn btn-primary float-right buttonlink" id="deleteRow2"><img
                    src="img/delete-24-px.png">DELETE</button>
                <a href="#" class="addusetbtn addRowBtn"><button class="btn btn-primary float-right buttonlink"><img
                      src="img/add-24-px-2.png">ADD</button></a>
              </div>
            </div>

            <div class="row addRowData" style="display: none;">
              <div class="col-md-2 rowadjust">
                <label class="required" >Username</label>
                <input type="text" class="form-control border" name="username" id="username"
                  placeholder="Enter Username">
              </div>
              <div class="col-md-2 rowadjust">
                <label class="required">Password</label>
                <input type="password" class="form-control border" name="password" id="password"
                  placeholder="Enter Password">
              </div>
              <div class="col-md-2 rowadjust">
                <label class="required">Confirm Password</label>
                <input type="password" class="form-control border" name="confirm_password" id="confirm_password"
                  placeholder="Enter Confirm Password">
              </div>
              <div class="col-md-3 rowadjust">
                <label class="required">Role</label>
                <input type="text" class="form-control border" name="role" id="role" placeholder="Enter Role">
              </div>
              <div class="col-md-3 buttonlink1 btnpadding">
                <button class="btn btn-primary buttonlink1 addroleBtn"><img src="img/add-24-px-2.png">ADD</button>
                <button class="btn btn-primary buttonlink1 btn-dark cancelRow"><img
                    src="img/close-24-px.png">CANCEL</button>
              </div>
            </div>

            <div class="row selectdiv RoletableParent" style="overflow-x: auto;">
              <table id="bucketList" class="table selectdiv1 Roletable">
                <thead>
                  <tr>
                    <th scope="col" class="bucketcheck">
                      <label class="main mainCB">
                        <input type="checkbox">
                        <span class="geekmark"></span>
                      </label>
                    </th>
                    <th scope="col" class="Username">USERNAME <i class="fa fa-angle-down" aria-hidden="true"></i></th>
                    <th scope="col">ROLE</th>
                  </tr>
                </thead>
                <tbody>

                </tbody>
              </table>
            </div>
          </div>
        </div>
      </div>
    </div>
    <!--for Table-->


    <!-- The Row Delete Execution Environment Modal 1-->
    <div class="modal fade model1" id="myModal">
      <div class="modal-dialog">
        <div class="modal-content">

          <!-- Modal Header -->
          <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal">&times;</button>
          </div>

          <!-- Modal body -->
          <div class="modal-body model_body">
            <h4>Delete Execution Environment</h4>
            <p>Do you want to Delete Execution Environment?</p>
            <p id="deletedItem"></p>
          </div>

          <!-- Modal footer -->
          <div class="modal-footer btnfooter">
            <button type="button" class="btn btn-dark" data-dismiss="modal">NO</button>
            <button type="button" id="environmentYesbtn" class="btn btn-primary" data-toggle="modal" data-dismiss="modal"
            >YES</button>
          </div>

        </div>
      </div>
    </div>
    <!-- End of Row Delete Modal 1-->





    <!-- The Row Delete Environment URL's Modal 1-->
    <div class="modal fade model1" id="myModal1">
      <div class="modal-dialog">
        <div class="modal-content">

          <!-- Modal Header -->
          <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal">&times;</button>
          </div>

          <!-- Modal body -->
          <div class="modal-body model_body">
            <h4>Delete Environment URL's</h4>
            <p>Do you want to Delete Environment URL's?</p>
            <p id="deletedItem1"></p>
          </div>

          <!-- Modal footer -->
          <div class="modal-footer btnfooter">
            <button type="button" class="btn btn-dark" data-dismiss="modal">NO</button>
            <button type="button" id="urlsYesbtn" class="btn btn-primary" data-toggle="modal" data-dismiss="modal"
              >YES</button>
          </div>

        </div>
      </div>
    </div>
    <!-- End of Row Delete Modal 1-->


    <!-- The Row Delete Access Role Modal 1-->
    <div class="modal fade model1" id="myModal2">
      <div class="modal-dialog">
        <div class="modal-content">

          <!-- Modal Header -->
          <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal">&times;</button>
          </div>

          <!-- Modal body -->
          <div class="modal-body model_body">
            <h4>Delete Access Role</h4>
            <p>Do you want to Delete Access Role?</p>
            <p id="deletedItem2"></p>
          </div>

          <!-- Modal footer -->
          <div class="modal-footer btnfooter">
            <button type="button" class="btn btn-dark" data-dismiss="modal">NO</button>
            <button type="button" id="accessYesbtn" class="btn btn-primary" data-toggle="modal" data-dismiss="modal"
            >YES</button>
          </div>

        </div>
      </div>
    </div>
    <!-- End of Row Delete Modal 1-->


     <!-- The Edit Environment Modal -->
     <div class="modal fade model1" id="updateEnvironmentModal">
      <div class="modal-dialog">
        <div class="modal-content">

          <!-- Modal Header -->
          <div class="modal-header">
            <h4 class="modal-title pl-3">Edit</h4>
            <!-- <button type="button" class="close" data-dismiss="modal">&times;</button> -->
          </div>

          <!-- Modal body -->
          <div class="modal-body">
            <div class="col-md-12">
              <form>
                <div class="row">
                  <div class="col-md-12 mb-2">
                    <label class="required" >Environment</label>
                    <input type="text" id="inputEditEnvironment" class="form-control border" name="inputEditEnvironment" value="">
                  </div>
                </div>   
              </form>
            </div>
          </div>

          <div class="modal-footer btnfooter">
            <button type="button" class="btn btn-dark" data-dismiss="modal"><img src="img/close-24-px.png">CANCEL</button>
            <button type="button" class="btn btn-primary updateEnvironmentBtn" data-toggle="modal" data-dismiss="modal"><img src="img/save-24-px-1.png">SAVE</button>
          </div>
        </div>
      </div>
    </div>
    <!-- End Edit Enviroment Modal-->


     <!-- The Edit Environment URL Modal -->
     <div class="modal fade model1" id="updateEnvironmentURLModal">
      <div class="modal-dialog">
        <div class="modal-content">

          <!-- Modal Header -->
          <div class="modal-header">
            <h4 class="modal-title pl-3">Edit</h4>
            <!-- <button type="button" class="close" data-dismiss="modal">&times;</button> -->
          </div>

          <!-- Modal body -->
          <div class="modal-body">
            <div class="col-md-12">
              <form>
                <div class="row">

                  <div class="col-md-12 mb-2">
                    <label class="required">Application</label>
                    <select class="form-control border" name="application1" id="application1">
                    </select>
                  </div>
                  <div class="col-md-12 mb-2">
                    <label class="required">Environment</label>
                    <select class="form-control border" name="url_environment1" id="url_environment1">
                    </select>
                  </div>
                  <div class="col-md-12 mb-2">
                    <label class="required">URL</label>
                    <input type="text" class="form-control border" name="url1" id="url1" placeholder="Enter URL">
                  </div>
                </div>   
              </form>
            </div>
          </div>

          <div class="modal-footer btnfooter">
            <button type="button" class="btn btn-dark" data-dismiss="modal"><img src="img/close-24-px.png">CANCEL</button>
            <button type="button" class="btn btn-primary updateEnvironmentURLBtn" data-toggle="modal" data-dismiss="modal"><img src="img/save-24-px-1.png">SAVE</button>
          </div>
        </div>
      </div>
    </div>
    <!-- End Edit Enviroment URL Modal-->
 
     <!-- The Edit Role Modal -->
     <div class="modal fade model1" id="updateRoleModal">
      <div class="modal-dialog">
        <div class="modal-content">

          <!-- Modal Header -->
          <div class="modal-header">
            <h4 class="modal-title pl-3">Edit</h4>
            <!-- <button type="button" class="close" data-dismiss="modal">&times;</button> -->
          </div>

          <!-- Modal body -->
          <div class="modal-body">
            <div class="col-md-12">
              <form>
                <div class="row">
                  <div class="col-md-12 mb-2">
                    <label class="required" >Username</label>
                    <input type="text" class="form-control border" name="username1" id="username1"
                      placeholder="Enter Username">
                  </div>
                  <div class="col-md-12 mb-2">
                    <label class="required">Role</label>
                    <input type="text" class="form-control border" name="role1" id="role1" placeholder="Enter Role">
                  </div>
                </div>   
              </form>
            </div>
          </div>

          <div class="modal-footer btnfooter">
            <button type="button" class="btn btn-dark" data-dismiss="modal"><img src="img/close-24-px.png">CANCEL</button>
            <button type="button" class="btn btn-primary updateRoleBtn" data-toggle="modal" data-dismiss="modal"><img src="img/save-24-px-1.png">SAVE</button>
          </div>
        </div>
      </div>
    </div>
    <!-- End Edit Role Modal-->
    

   
  </div>
  <!--Main Content End-->

  <!--Footer Start-->
  <footer id="footer" class="container-fluid pull-right">
    <div class="pull-left footer-logo"><img src="img/logo-11.png"></div>
    <div class="pull-right footer-text">
      <!-- &copy <script>document.write((new Date()).getFullYear());</script>   -->
      Copyright @ 2021 Test IT. All Rights Reserved.
    </div>
  </footer>
  <!--Footer End-->
  <!-- For sidebar toggle -->
  <a href="#" id="sidebarToggle"><i class="fa fa-caret-right fa-2x" aria-hidden="true"></i></a>


  <script>

$(document).ready(function() {	

/*
  $('#bucketList').DataTable({
				"lengthChange": false,
				"searching": false,   // Search Box will Be Disabled
				"ordering": true,    // Ordering (Sorting on Each Column)will Be Disabled
				"info": false,
				"pagingType": "full_numbers"
			});
      */

      var uname = readCookie("TAuname");
      $("#userMenu span").text(uname);
      if(localStorage.getItem('profileImage')!='null')
      $("#userMenu img").attr("src",localStorage.getItem('profileImage'));
});  


    $(function () {

      $(".dataTables_wrapper").css("width","100%");

      $("#environmentTab").click(function (e) {
        e.preventDefault();
        $(".dataTables_wrapper").css("width","100%");
        fetchAllEnvironment();
      });

      $("#environmentUrlTab").click(function (e) {
        e.preventDefault();
        $(".dataTables_wrapper").css("width","100%");
         fetchAllApplications();
         fetchAllEnvironments();
         displayAllEnvironmentUrls();
      });

      $("#accessRolesTab").click(function (e) {
        e.preventDefault();
        $(".dataTables_wrapper").css("width","100%");
        displayAllAccessRoles();
      });

      $("a.addRowBtn").click(function (e) {
        e.preventDefault();

        $(this).closest(".card-body").find(".addRowData").slideToggle();

        $(this).css("pointer-events", "none");
        $(this).css("opacity", ".65");
        $("#deleteRow").attr("disabled", true);
        $("#deleteRow1").attr("disabled", true);
        $("#deleteRow2").attr("disabled", true);
      });

      $("button.addEnvBtn").click(function () {
        var dataVal = $("#execution_environment").val();
        if (dataVal == '') {
          showWarningToast("Please enter valid environment name");
          return;
        }
        var dataObj = {};
        dataObj["environmentName"] = dataVal;
        dataObj["added_by"] = readCookie("TAuid");
        saveEnvironment(dataObj);
      });


      $("button.addUrlBtn").click(function () {
        var application = $("#application").val();
        var environment = $("#url_environment").val();
        var url = $("#url").val();

        if (application == 0) {
          showMessage("Please select valid application name");
        } else if (environment == 0) {
          showMessage("Please select valid enviornment name");
        } else if (url.trim().length == 0) {
          showMessage("Please enter valid url");
        } else {
          var dataObj = {};
          dataObj["application"] = {applicationId : application};
          dataObj["environment"] = {environmentId : environment};
          dataObj["envUrl"] = url;
          dataObj["status"] = 0;
          saveEnvironmentUrl(dataObj);
        }
      });

      $("button.addroleBtn").click(function () {
        var dataUsername = $("#username").val().trim();
        var password = $("#password").val().trim();
        var confirmPassword = $("#confirm_password").val().trim();
        var dataRole = $("#role").val().trim();

        if(dataUsername.length == 0){
          showWarningToast("Please select valid username name");
          return false;
        }else if(password.length == 0){
          showWarningToast("Please select valid password");
          return false;
        }else if(confirmPassword.length == 0){
          showWarningToast("Please select valid confirm password");
          return false;
        }else if(password.localeCompare(confirmPassword) != 0){
          showWarningToast("Password enter does not match");
          return false;
        }else if(dataRole.length == 0){
          showWarningToast("Please select valid role");
          return false;
        }

          var dataObj = {};
          dataObj["name"] = dataUsername;
          dataObj["role"] = dataRole;
          dataObj["password"] = password;
          dataObj["isDelete"] = 0;
          saveAccessRoles(dataObj);
      });

      /*---Jquery for Cancel row---*/

      $("button.cancelRow").click(function () {
        closeEnvironmentUrlInput();
      });


      $(".mainCB input[type=checkbox]").click(function () {
        if ($(this).prop("checked") == true) { $(this).closest(".selectdiv1").find(".subCB input[type=checkbox]").prop("checked", true); }
        else { $(this).closest(".selectdiv1").find(".subCB input[type=checkbox]").prop("checked", false); }
      });

      /*---Jquery for delete Exicution Environment row---*/

      $("#deleteRow").click(function (e) {
        e.preventDefault();
        var str = '';
        $(".envTable tbody .subCB input:checked").each(function () {
          if (str != '')
            str += ", " + $(this).closest("tr").find("td:nth-child(2)").text();
          else
            str += $(this).closest("tr").find("td:nth-child(2)").text();
        });

        $("#deletedItem").text(str);
        if($(".envTable  tbody .subCB input:checked").length > 0){
          $("#myModal").modal();
        }
      });

      $(document).on("click", "#environmentYesbtn", function () {
        $("#myModal").modal('hide');
        var allAjax = [];
        $('.envTable input[type=checkbox]').map((i,val)=>{
				      if($(val).attr("data-value")!=undefined){
                if($(val).prop("checked") == true){
                allAjax.push(deleteSelectedEnvironment($(val).attr("data-value")));     
                }
              }
		    });

        Promise.all(allAjax).then(() => {
          console.log("All environment deleted successfully");
          showSuccessToast("Execution Environment Deleted Successfully.");
          fetchAllEnvironment();
        }).catch(() => {
          console.log("Error in deleting all environments");
        })

      });

      /*---Jquery for delete Environment URL's row---*/

      $("#deleteRow1").click(function (e) {
        e.preventDefault();
        var str = '';
        $(".Urltable tbody .subCB input:checked").each(function () {
          if (str != '')
            str += ", " + $(this).closest("tr").find("td:nth-child(4)").text();
          else
            str += $(this).closest("tr").find("td:nth-child(4)").text();
        });

        $("#deletedItem1").text(str);
        if($(".Urltable  tbody .subCB input:checked").length > 0){
          $("#myModal1").modal();
        }
      });

      $(document).on("click", "#urlsYesbtn", function () {
        $(".Urltable").find(".mainCB input[type=checkbox]").prop("checked", false);
        var allAjax = [];
        $('.Urltable input[type=checkbox]').map((i,val)=>{
				      if($(val).attr("data-value")!=undefined){
                if($(val).prop("checked") == true){
                  allAjax.push(deleteSelectedEnvironmentUrl($(val).attr("data-value")));     
                }
              }
		    });

        Promise.all(allAjax).then(() => {
          showSuccessToast("Environment URL's Deleted Successfully.");
          displayAllEnvironmentUrls();
        }).catch(() => {
          console.log("Error in deleting all environments");
        })
      });

      /*---Jquery for delete Access Role row---*/

      $("#deleteRow2").click(function (e) {
        e.preventDefault();
        var str = '';
        $(".Roletable tbody .subCB input:checked").each(function () {
          if (str != '')
            str += ", " + $(this).closest("tr").find("td:nth-child(2)").text();
          else
            str += $(this).closest("tr").find("td:nth-child(2)").text();
        });

        $("#deletedItem2").text(str);
        
        if($(".Roletable  tbody .subCB input:checked").length > 0){
          $("#myModal2").modal();
        }
      });

      $(document).on("click", "#accessYesbtn", function () {
        $(".Roletable").find(".mainCB input[type=checkbox]").prop("checked", false);
        $('.Roletable input[type=checkbox]').map((i,val)=>{
				      if($(val).attr("data-value")!=undefined){
                if($(val).prop("checked") == true){
                  deleteSelectedAccessRole($(val).attr("data-value"));     
                }
              }
		    });
      });

      /*---Jquery for toggle section on click caret-down icon---*/

      $(".submaindiv i.showbtndiv").click(function () {
        $(this).closest("li").find(".hidediv").slideToggle();
        $(this).toggleClass("caret-rev");
      });

      $("aside.sidebar").height($("#main-content").height() + $("#footer").height() + 30);

      $(window).resize(function () {
        $("aside.sidebar").height($("#main-content").height() + $("#footer").height() + 30);
      });

      // For sidebar toggle
      if ($(window).width() < 730) {
        $("#sidebarToggle").click(function (e) {
          e.preventDefault();
          $("aside.sidebar").toggleClass("showSB");
          $(this).toggleClass("toggleIcon");
        });
      }
    });

  </script>
</body>

</html>